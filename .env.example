# Environment
ENVIRONMENT=development
LOG_LEVEL=INFO

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_STREAM_NAME=raw_documents
REDIS_CONSUMER_GROUP=processing_workers

# PostgreSQL
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/news_tracker

# Twitter API v2
TWITTER_BEARER_TOKEN=
TWITTER_API_KEY=
TWITTER_API_SECRET=

# Reddit API
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
REDDIT_USER_AGENT=news-tracker/0.1.0

# News APIs (fallback order: Finnhub -> NewsAPI -> Alpha Vantage)
FINNHUB_API_KEY=
NEWSAPI_API_KEY=
ALPHA_VANTAGE_API_KEY=

# New news sources (comma-separated for multiple keys with rotation)
NEWSFILTER_API_KEYS=
MARKETAUX_API_KEYS=
FINLIGHT_API_KEYS=

# Substack (no auth needed for RSS, optional for premium)
SUBSTACK_COOKIE=

# Rate Limits (requests per minute)
TWITTER_RATE_LIMIT=30
REDDIT_RATE_LIMIT=60
NEWS_RATE_LIMIT=60
SUBSTACK_RATE_LIMIT=10

# Processing
SPAM_THRESHOLD=0.7
DUPLICATE_THRESHOLD=0.85
POLL_INTERVAL_SECONDS=60

# HTTP retry configuration
MAX_HTTP_RETRIES=3
MAX_BACKOFF_SECONDS=60.0

# Observability
METRICS_PORT=8000
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=news-tracker

# API Server
API_HOST=0.0.0.0
API_PORT=8001
API_KEYS=

# CORS
CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=true

# Request timeout
REQUEST_TIMEOUT_SECONDS=30.0

# API Rate Limiting
RATE_LIMIT_ENABLED=false
RATE_LIMIT_DEFAULT=60/minute
RATE_LIMIT_EMBED=30/minute
RATE_LIMIT_SENTIMENT=30/minute
RATE_LIMIT_SEARCH=60/minute
RATE_LIMIT_GRAPH=30/minute
RATE_LIMIT_ENTITIES=60/minute
RATE_LIMIT_ADMIN=30/minute

# Worker Resilience
WORKER_MAX_CONSECUTIVE_FAILURES=10
WORKER_BACKOFF_BASE_DELAY=2.0
WORKER_BACKOFF_MAX_DELAY=120.0

# Embedding
EMBEDDING_MODEL_NAME=ProsusAI/finbert
EMBEDDING_BATCH_SIZE=32
EMBEDDING_USE_FP16=true
EMBEDDING_DEVICE=auto
EMBEDDING_CACHE_ENABLED=true
EMBEDDING_CACHE_TTL_HOURS=168

# Sentiment
SENTIMENT_MODEL_NAME=ProsusAI/finbert
SENTIMENT_BATCH_SIZE=16
SENTIMENT_CACHE_ENABLED=true
SENTIMENT_CACHE_TTL_HOURS=168
SENTIMENT_ENABLE_ENTITY_SENTIMENT=true

# Vector Store
VECTORSTORE_DEFAULT_LIMIT=10
VECTORSTORE_DEFAULT_THRESHOLD=0.7

# Opt-in Feature Flags (all false by default)
NER_ENABLED=false
KEYWORDS_ENABLED=false
EVENTS_ENABLED=false
CLUSTERING_ENABLED=false
VOLUME_METRICS_ENABLED=false
RANKING_ENABLED=false
GRAPH_ENABLED=false
PROPAGATION_ENABLED=false
ALERTS_ENABLED=false
NOTIFICATIONS_ENABLED=false
BACKTEST_ENABLED=false
SCORING_ENABLED=false
SECURITY_MASTER_ENABLED=false
DRIFT_ENABLED=false
FEEDBACK_ENABLED=false
AUTHORITY_ENABLED=false
TRACING_ENABLED=false
WS_ALERTS_ENABLED=false

# Sotwe
SOTWE_ENABLED=true
SOTWE_USERNAMES=
SOTWE_RATE_LIMIT=10
